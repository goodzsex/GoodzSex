<script type="text/javascript">
    var postsHREF = [{% for post in site.posts %}"{{ post.url }}"{% unless forloop.last %},{% endunless %}{% endfor %}];
</script>
<script type="text/javascript">

    var randomIndexUsed = [];
    var counter = 0;
    var numberOfPosts = 1;

    while (counter < numberOfPosts)
    {
        var randomIndex;
        var postHREF;

        randomIndex = Math.floor(Math.random() * postsHREF.length);
        if (randomIndexUsed.indexOf(randomIndex) == "-1")
        {
            postHREF = postsHREF[randomIndex];

            if (counter == (numberOfPosts - 1))
            {
                document.write('<p><a href="' + postHREF + '">Random</a></p>');
            }
            else
            {
                document.write('<p><a href="' + postHREF + '">Random</a></p>');
            }
            randomIndexUsed.push(randomIndex);
            counter++;
        }
    }

</script>
